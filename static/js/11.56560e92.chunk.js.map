{"version":3,"sources":["components/footer.js","components/layout.js","components/loading.js","components/prepare.js","routes/tag-show.js"],"names":["Footer","h","id","class","href","Layout","_ref","children","fullWidth","props","style","maxWidth","Object","assign","Loading","display","width","height","verticalAlign","marginLeft","marginRight","textAlign","fontWeight","color","prepare","prepareComponentData","WrappedComponent","Component","constructor","super","this","state","loading","componentDidMount","ret","Promise","then","setState","render","connect","mapStateToProps","_ref2","csv","parts","split","name","shift","icon","map","Math","abs","parseInt","sort","a","b","itemIds","items","item","dispatch","bindActionCreators","fetchItems","async","_ref3","itemsToShow","find","i","filter","length","NotFound","Meta","title","hero","description","alt","src","formatIcon","wikiURLForItem"],"mappings":"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","file":"static/js/11.56560e92.chunk.js","sourcesContent":["import { h } from 'preact'\n\nconst Footer = () => (\n  <section id=\"footer\">\n    <div class=\"content-section\">\n      <footer>\n        <hr />\n        Developed with <i class=\"fas fa-heart\" /> and{' '}\n        <i class=\"fas fa-coffee\" /> using{' '}\n        <a href=\"https://getbootstrap.com/\">Bootstrap</a>,{' '}\n        <a href=\"https://reactjs.org/\">React</a> and{' '}\n        <a href=\"https://fontawesome.com/\">Font Awesome</a>\n        <a href={`/atom.xml`} class=\"float-right\">\n          <i class=\"fas fa-rss\" /> Subscribe via RSS\n        </a>\n      </footer>\n    </div>\n  </section>\n)\n\nexport default Footer\n","import { h } from 'preact'\nimport Footer from './footer'\n\nconst Layout = ({ children, fullWidth, ...props }) => {\n  props.class = props.class ? 'container ' + props.class : 'container'\n  props.style = {\n    ...(props.style || {}),\n    maxWidth: fullWidth ? '100%' : ''\n  }\n\n  return (\n    <div {...props} id=\"layout\">\n      {children}\n      <Footer />\n    </div>\n  )\n}\n\nexport default Layout\n","import { h } from 'preact'\n\nconst Loading = () => (\n  <div\n    style={{\n      display: 'table',\n      width: '100%',\n      height: '100%'\n    }}\n  >\n    <div\n      style={{\n        display: 'table-cell',\n        verticalAlign: 'middle'\n      }}\n    >\n      <div\n        style={{\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          textAlign: 'center',\n          fontWeight: 700,\n          color: 'white'\n        }}\n      >\n        <div class=\"fa-4x\">\n          <i class=\"fas fa-spinner fa-spin\"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n)\n\nexport default Loading\n","import { h, Component } from 'preact'\nimport Loading from './loading'\n\nconst prepare = prepareComponentData => WrappedComponent => {\n  return class extends Component {\n    constructor() {\n      super()\n      this.state = {\n        loading: true\n      }\n    }\n\n    componentDidMount() {\n      const ret = prepareComponentData(this.props)\n      if (ret instanceof Promise) {\n        ret.then(() =>\n          this.setState({\n            loading: false\n          })\n        )\n      } else {\n        this.setState({\n          loading: false\n        })\n      }\n    }\n\n    render(props) {\n      const { loading } = this.state\n      return loading ? <Loading /> : <WrappedComponent {...props} />\n    }\n  }\n}\n\nexport default prepare\n","import { h } from 'preact'\nimport Layout from '../components/layout'\nimport hero from '../_data/hero'\nimport Meta from '../components/meta'\nimport { bindActionCreators } from 'redux'\nimport { fetchItems } from '../modules/item'\nimport { connect } from 'react-redux'\nimport '../components/tooltip.css'\nimport './tag.css'\nimport prepare from '../components/prepare'\nimport { formatIcon, wikiURLForItem } from '../util'\nimport NotFound from '../components/not-found'\n\nconst TagShow = ({ name, icon, itemIds, items, csv }) => {\n  const itemsToShow = itemIds\n    .map(id => items.find(i => i.id === id))\n    .filter(i => !!i)\n\n  if (itemsToShow.length === 0) {\n    return <NotFound />\n  }\n\n  return (\n    <Layout>\n      <Meta title={`${name} tag tab - ${hero.title}`} description={csv} />\n      <section id=\"tags\">\n        <div class=\"content-section tag-container\">\n          <h1 class=\"page-header\">\n            <img alt=\"\" src={formatIcon(icon)} /> {name}\n          </h1>\n\n          <pre class=\"pre-select\">{csv}</pre>\n\n          <div class=\"row pl-2\">\n            {itemsToShow.map(item => (\n              <div class=\"card\">\n                <div class=\"tooltip-tag\">\n                  <a href={wikiURLForItem(item)}>\n                    <img\n                      class=\"card-img-top\"\n                      alt={item.name}\n                      src={formatIcon(item.id)}\n                    />\n                  </a>\n                  <div class=\"tooltip-tag-text\">\n                    <b>{item.name || 'Loading...'}</b>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nconst mapStateToProps = (state, { csv }) => {\n  let parts = csv.split(',')\n  const name = parts.shift()\n  const icon = parts.shift()\n  parts = parts.map(id => Math.abs(parseInt(id, 10))).sort((a, b) => a - b)\n\n  return {\n    name,\n    icon,\n    itemIds: parts,\n    items: state.item || []\n  }\n}\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators({ fetchItems }, dispatch)\n\nconst prepareComponentData = async ({ fetchItems }) => {\n  await fetchItems()\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(prepare(prepareComponentData)(TagShow))\n"],"sourceRoot":""}